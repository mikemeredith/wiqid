TODO

  * (TRY using Gelman et al 2008 recommendations for priors for logistic coefficients.
  Update man page for priors.) Maybe more important, allow user to choose priors.

  * Try using optim instead of nlm for functions where estimation near boundaries
  is a problem.

  * Improve survRD* functions! Add test files.

  * Add probit link option to remaining MLE functions.

  * Fix BsurvCJS with groups argument.

  * survCJS can use time-specific covariate, eg, flood, or grouping factor, but not both.

  * Add functions for multi-method and multi-state occupancy.

  * Sanity checks that detection histories are all numeric and 0/1/NA? This would
  slow down simulations.

  * Add WAIC to other Bayesian functions.

CHANGES in 2015-12-24 v.0.0.398

  * Minor bug fixes and more in namespace.
  
  * hdi.density is now exported; column names fixed.
  
CHANGES in 2015-11-05 v.0.0.397

  * BsurvCJS uses a probit link and allows priors to be specified; other survCJS
  functions get a link argument.

CHANGES in 2015-10-28 v.0.0.396

  * Minor changes and fixes to pass --as-cran checks

CHANGES in 2015-10-27 v.0.0.395

  * No longer Depends on 'runjags' or 'jagsUI'.

  * Change arguments for MCMC functions to 'chains', 'sample', 'burnin', 'thin' and 'adapt'.

CHANGES in 2015-10-22 v.0.0.394

  * Modifications to accommodate JAGS v.4

  * Package 'secr' now a Suggests instead of Imports dependency

CHANGES in 2015-10-10 v.0.0.393

  * Added WAIC to BoccSS. Code not yet fully tested!

CHANGES in 2015-10-06 v.0.0.392

  * postPriorOverlap gains extra graphical parameters (wish of Joshua Pandong).

CHANGES in 2015-09-21 v.0.0.391

  * In occ2sps, change model specification to formulae and allow for site covariates
      (request of Arthur Scully). Data 'railSims' changed to include covariates.

  * AICtable gets sort argument

CHANGES in 2015-07-29 v.0.0.390

  * Fixed bug in occMS0

  * Changing Hessian inversion from solve() to chol2inv(chol()); negative variances
  allowed to generate NaNs for SEs and CIs (but less common with chol2inv).

CHANGES in 2015-07-03 v.0.0.389

  * Added Bbinom function.

  * as.Bwiqid gains a data.frame method.

CHANGES in 2015-06-28 v.0.0.388

  * Minor fixes.

CHANGES in 2015-05-20 v.0.0.387

  * Revamp of Bnormal as two separate functions.

CHANGES in 2015-05-20 v.0.0.386

  * Roll back to previous version of BsurvCJS, without groups argument.

CHANGES in 2015-05-14 v.0.0.385

  * Changed default priors for Bnormal to match BEST::BESTmcmc.

CHANGES in 2015-03-02 v.0.0.384

  * fixed convergence issues of survCJS with large samples

CHANGES in 2015-02-27 v.0.0.383

  * occSS* functions gain a 'link' argument and optional probit link.

  * BoccSS gains arguments parallel and seed

  * Added help page on logit and probit links

  * Fixed rounding of numbers displayed on plots.

  * Added Bregress and Blogit, wrappers for MCMCpack's MCMC* functions.

  * survCJS and BsurvCJS gain a group argument.

  * Added hdi method for class mcmc.

  * Added closedCapMb model.

  * Added head and tail methods for Bwiqid class.

CHANGES in 2015-01-09 v.0.0.382

  * Added tests for Bnormal and BoccSS functions.

CHANGES in 2014-12-27 v.0.0.381

  * Added Bnormal function.

CHANGES in 2014-11-27 v.0.0.380

  * Minor corrections to help files.

CHANGES in 2014-11-26 v.0.0.379

  * Use Gibbs sampler for BoccSS0; old function using JAGS retained as BoccSS0_JAGS.

  * Function BoccSS uses Gibbs sampler for single season occupancy with
  covariates.

CHANGES in 2014-09-27 v.0.0.378

  * Added as.Bwiqid and hdi methods for class jagsUI in jagsUI package.

  * Added occSSrnSite which allows site specific covariates.

CHANGES in 2014-09-10 v.0.0.377

  * added single-season two-species occupancy model.

  * added preliminary versions of functions for Pollock's robust design.

  * trap losses allowed in survCJS functions.

CHANGES in 2014-08-14 v.0.0.376

  * added as.Bwiqid method for coda class 'mcmc'.

  * renaming of some functions: occMSseason -> occMStime, occMScov -> occMS,
      occSScov -> occSS.

  * fixed bug in occMS(cov) with .season covariate.

  * fixed bug in biodSimpson et al

CHANGES IN 2014-04-16 v.0.0.375

  * postPlot with showCurve=TRUE, show the same HDI as the histograms when the
  HDI is not split.

CHANGES IN 2014-03-30 v.0.0.374

  * new diagnostic plots for Bwiqid objects: tracePlot, densityPlot and acfPlot;
  class Bwiqid objects get an attribute 'n.chains' to enable this.

  * window.Bwiqid added.

  * BsurvCJSautorun removed. All B* functions now use runjags package.

CHANGES IN 2014-03-01 v.0.0.373

  * bug fix in postPlot

CHANGES IN 2014-02-28 v.0.0.372

  * Density plot functions gain an argument shadeHDI to shade the area under the
  curve corresponding to the HDI (wish of Joshua Pandong).

CHANGES IN 2014-02-26 v.0.0.371

  * Enhancements to plots: credMass = NULL to suppress plotting. Show
  discontinuous HDI in showCurve = TRUE plots.

  * help pages for print.Bwiqid and plot.Bwiqid added.

CHANGES IN 2014-02-24 v.0.0.370

  * hdi gains a density method, which can handle discontinuous HDIs.

CHANGES IN 2014-02-24 v.0.0.369

  * plotPost and the plot.Bwiqid method now make full use of the ... argument for
  additional graphical parameters. Default xlim now based on 99% HDI (not range).
  They return an object of class 'histogram'.

CHANGES IN 2014-02-10 v.0.0.368

  * plotPost deals properly with a vector of integers.

CHANGES IN 2014-02-07 v.0.0.367

  * Added as.Bwiqid generic and methods for mcmc.list, bugs, rjags, runjags.

  * Fixed bug in plot.Bwiqid.

CHANGES IN 2014-02-05 v.0.0.366

  * New function BsurvCJSautorun, which uses the runjags::autorun.jags function.
  'wiqid' now depends on runjags. Experimental: may have to roll back if runjags
  does not work for everyone.

  * Implemented 0.5xSD scaling for all functions.

  * 'nlm' codes > 2 now produce warning and continue.

CHANGES IN 2014-02-01 v.0.0.365

  * Lots of small fixes.

  * Removed occSSautocorA; occSScov gains a built-in .b covariate which does
  the same thing.

  * Added test files for occMS* functions. Speed up occMScov.

CHANGES IN 2014-01-30 v.0.0.364

  * added grand skinks data set.

  * expanded occMScov to take survey covariates; that is slow, as it calculates
  a different probability of detection for each site x occasion. So retained
  the old function under the name occMScovSite.

CHANGES IN 2014-01-28 v.0.0.363

  * Changed occSSrn to take a detection history matrix as first argument.

  * fixed bugs in postPriorOverlap, survCJSaj.

  * added priorOnly argument to Bayesian functions (useful for postPriorOverlap),

  * Added .Time covar (for time trend) to survCJS

CHANGES IN 2014-01-26 v.0.0.362

  * Changed closedCap* functions so that all take a detection history matrix
  as first argument.

  * The hdi generic gets methods for classes bugs, rjags and runjags.

  * New function postPriorOverlap calculates and displays the overlap between
  posterior and prior.

CHANGES IN 2014-01-11 v.0.0.361

  * Multi-season occupancy functions (occMS*) tidied up to deal with sites with
  surveys in first season only.

  * Fixed bug in Bsecr0 - prior for sigma was too constrained.

  * Changed survival functions to use ordinary detection history matrix instead
  of m-array; conversion to m-array is done internally.

  * Added dippers data set.

  * Functions occSS.t, occSS.T and occSS.T2 replaced with a single function,
  occSStime, which can also accept time-varying covariates for probability of detection.

CHANGES IN 2014-01-05

  * Version number system changed as CRAN doesn't like leading zeros.
  Version 0.0359 followed by version 0.0.360.

CHANGES IN 2013-12-24

  * wiqid-package man page gives a list of all functions by type, with links to man pages.

  * Functions cjsTime and BcjsTime renamed as survCJS and BsurvCJS.

  * New function survCJSaj for data sets for adults and juveniles, eg sociable lapwings.

  * New class 'wiqid' replaces classes 'occupancy' and 'closedCap' and is used for
  survCJS output.

CHANGES IN 2013-12-16

  * New functions occMSseason and occMScov do covariate versions of multiple
  season occupancy.

CHANGES IN 2013-12-14

  * New function Bsecr0 does Bayesian version of simple secr fit.

  * New function occMS0 does simple multi-season analysis.

  * New function BcjsTime does Bayesian version of survival.

  * cjs0 removed; use cjsTime for phi(.) p(.) model

  * Argument 'model' now used in occSScov and occSScovSite.

  * Covariate data for occSScovSite now a data frame, not a list.

  * New function occSS.T2 does quadratic model for probabilitiy of detection.
  occSS.T and occSS.T2 do a plot of p vs time.

  * New function BoccSS0 does Bayesian modelling with JAGS.

  * new function occSSautocorA does autocorrelation in detection probability.

  * occSScovSite was throwing error if variables not in the model contained NAs.
  TODO check other functions are not doing this too!

  * added .Time and .Time2 built-in covars to occSScov

  * added AICtable utility function.

CHANGES IN BUILD 2013-11-04

  * closedCap* functions now return an object of class closedCap, for which there
  are print, logLik and nobs methods.

  * added ciType argument to closedCap* functions. ciType = "MARK" calculates CI
  for N as in Program MARK. Test files modified to match.

  * add closedCapMt and closedCapMtcov

CHANGES IN BUILD 2013-10-04

  * Changed sanity checks in closedCapM0 and closedCapsMhJK to allow just 1 recapture.
    Test files modified to match.

CHANGES IN BUILD 2013-04-07

 * Fixed occSSrn to produce NAs if input is all ones; changed test file to match.

 * Changed checks for solving hessian in closedCapM0, Mh2; increased interlim
 for mle in closedCapM0.

 * Changes to test files for closedCap*, as R 3.0.0 was not giving exactly the same
 answer; round(...,4) changed to signif(..., 4).

CHANGES IN BUILD 2013-03-31

  * Removed distWhittackerI, which is same as distSorensen; renamed distWhittackerA
 as just distWhittacker.

  * add ci=0.95 argument to all functions that return a confidence interval.

CHANGES IN BUILD 2013-03-30

  * Added richJackA1, richJackA2, richRenLau, and Temburong data set.

  * Added biodSimpson, biodShannon, biodBerger, biodBrillouin.

  * richSobs et al now accept vector input when appropriate.

CHANGES IN BUILD 2013-03-24

  * Extra sanity checks added to occSS0, occSSrn, occSScovSite.

  * occSSrn returns an object of class 'occupancy'.

  * Took out bird_mass from KillarneyBirds data set.

  * Changed spelling of *Rarify to *Rarefy (Oxford Dictionary online says both are
  correct but rarefy is more common).

CHANGES IN BUILD 2013-03-19

  * Tweaked occSScovar and occSScovarSite to accept formulae as character variables,
  also to return logLik = NA if convergence problems.

  * occSScovar was throwing error if no survey covars were provided.

  * Tweaked occSS.T to prevent warnings due to 'nll' returning Inf.

CHANGES IN BUILD 2013-03-19

  * Tweaked occSScovar and occSScovarSite to improve convergence and catch variance
  estimation problems. Covars internally standardised, so betas are different.

CHANGES IN BUILD 2013-03-18

  * Added allCombinations function.

  * Added logLik and nobs methods for class occupancy; modified occSS* functions
  to accommodate that. Function stats::AIC now works for occupancy.

  * Added AICc generic and AICc.default.

CHANGES IN BUILD 2013-03-16

  * Added distance (beta diversity) measures

  * Added species richness estimation as in EstimateS
